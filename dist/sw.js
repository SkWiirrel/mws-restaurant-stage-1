"use strict";var staticCache="res-staticStuff-v22",contentImgsCache="res-contentImgStuff",allCaches=[staticCache,contentImgsCache];self.addEventListener("install",function(e){e.waitUntil(caches.open(staticCache).then(function(e){return e.addAll(["/","/manifest/manifest.json","css/styles.css","css/styles-min-w-750.css","css/styles-min-w-1200.css","css/styles.css","js/commons.js","js/restaurant_info.js","js/main.js","js/picturefill.min.js","js/intersection-observer.js"])}))}),self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return e.startsWith("res-")&&!allCaches.includes(e)}).map(function(e){return caches.delete(e)}))}))}),self.addEventListener("fetch",function(t){var e=new URL(t.request.url);e.origin===location.origin&&e.pathname.startsWith("/img/")?t.respondWith(serveImages(t.request)):t.respondWith(caches.match(t.request).then(function(e){return e||fetch(t.request)}))});var serveImages=function(s){var n=s.url.replace(/-\d{3}.jpg$/,"")+".jpg";return caches.open(contentImgsCache).then(function(t){return t.match(n).then(function(e){return e||fetch(s).then(function(e){return t.put(n,e.clone()),e})})})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN3LmpzIl0sIm5hbWVzIjpbInN0YXRpY0NhY2hlIiwiY29udGVudEltZ3NDYWNoZSIsImV2ZW50IiwiY2FjaGVzIiwid2FpdFVudGlsIiwib3BlbiIsInRoZW4iLCJjYWNoZSIsImFkZEFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJtYXAiLCJzZWxmIiwicmVxdWVzdFVybCIsImtleXMiLCJjYWNoZXNOYW1lcyIsInBhdGhuYW1lIiwicmVzcG9uZFdpdGgiLCJzZXJ2ZUltYWdlcyIsImNhY2hlTmFtZSIsInN0YXJ0c1dpdGgiLCJhbGxDYWNoZXMiLCJpbmNsdWRlcyIsImRlbGV0ZSIsIlVSTCIsInJlcXVlc3QiLCJ1cmwiLCJvcmlnaW4iLCJsb2NhdGlvbiIsIm1hdGNoIiwicmVzcG9uc2UiLCJmZXRjaCIsInN0b3JhZ2VVcmwiLCJyZXBsYWNlIiwibmV0d29ya1Jlc3BvbnNlIiwicHV0IiwiY2xvbmUiXSwibWFwcGluZ3MiOiJhQUFBLElBQUFBLFlBQUEsc0JBR01DLGlCQUFtQixzQkFEbkJELFVBQWMsQ0FDcEJBLFlBQ0FDLGtCQVdFQyxLQUFBQSxpQkFDRUMsVUFBWUgsU0FBWkUsR0FjQ0EsRUFmSEUsVUFGRkQsT0FBQUUsS0FBQUwsYUFBQU0sS0FBQSxTQUFBQyxHQUlNLE9BQU9BLEVBQU1DLE9BQU8sQ0FpQjFCLElBZlEsMEJBQ0EsaUJBaUJIQywyQkFDR0wsNEJBRUYsaUJBRUksZ0JBQ0NNLHdCQUNELGFBSkosd0JBRkoscUNBREZDLEtBQUtGLGlCQUFpQixXQUFZLFNBQVNQLEdBc0J6Q0EsRUFBSVUsVUFwQkZULE9BQU9VLE9BQU9QLEtBQUssU0FBU1EsR0FzQjVCLE9BQUlGLFFBQVdHLElBQ2JiLEVBQU1jLE9BQVlDLFNBQVlmLEdBQzlCLE9BQUFnQixFQUFBQyxXQUFBLFVBQUFDLFVBQUFDLFNBQUFILEtBQ0RSLElBQUEsU0FBQVEsR0FFRixPQUFBZixPQUFBbUIsT0FBQUosV0FYSFAsS0FBS0YsaUJBQWlCLFFBQVMsU0FBU1AsR0FFdEMsSUFBTVUsRUFBYSxJQUFJVyxJQUFJckIsRUFBTXNCLFFBQVFDLEtBRXJDYixFQUFXYyxTQUFXQyxTQUFTRCxRQUU3QmQsRUFBV0csU0FBU0ksV0FBVyxTQTBCckNqQixFQUFPQyxZQUFZRixZQUFBQSxFQUFrQkssVUFNbENKLEVBTERjLFlBREZiLE9BQUF5QixNQUFBMUIsRUFBQXNCLFNBQUFsQixLQUFBLFNBQUF1QixHQUpGLE9BQUFBLEdBQUFDLE1BQUE1QixFQUFBc0IsY0FBQSxJQUFNUCxZQUFjLFNBQUNPLEdBRW5CLElBQUlPLEVBQWFQLEVBQVFDLElBQUlPLFFBQVEsY0FBZSxJQUFNLE9BRTFELE9BQU83QixPQUFPRSxLQUFLSixrQkFBa0JLLEtBQUssU0FBU0MsR0FDakQsT0FBT0EsRUFBTXFCLE1BQU1HLEdBQVl6QixLQUFLLFNBQVN1QixHQUMzQyxPQUFPQSxHQUFZQyxNQUFNTixHQUFTbEIsS0FBSyxTQUFTMkIsR0FFOUMsT0FEQTFCLEVBQU0yQixJQUFJSCxFQUFZRSxFQUFnQkUsU0FDL0JGIiwiZmlsZSI6InN3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG5jb25zdCBzdGF0aWNDYWNoZSA9ICdyZXMtc3RhdGljU3R1ZmYtdjIyJztcclxuY29uc3QgY29udGVudEltZ3NDYWNoZSA9ICdyZXMtY29udGVudEltZ1N0dWZmJztcclxuY29uc3QgYWxsQ2FjaGVzID0gW1xyXG4gIHN0YXRpY0NhY2hlLFxyXG4gIGNvbnRlbnRJbWdzQ2FjaGVcclxuXTtcclxuXHJcblxyXG4vKipcclxuICogTGlzdGVuIHRvIHRoZSBpbnN0YWxsIGV2ZW50IGFuZCBjYWNoZSBzdGF0aWMgaXRlbXNcclxuICovXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignaW5zdGFsbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gIGV2ZW50LndhaXRVbnRpbChcclxuICAgIGNhY2hlcy5vcGVuKHN0YXRpY0NhY2hlKS50aGVuKGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICAgIHJldHVybiBjYWNoZS5hZGRBbGwoW1xyXG4gICAgICAgICcvJyxcclxuICAgICAgICAnL21hbmlmZXN0L21hbmlmZXN0Lmpzb24nLFxyXG4gICAgICAgICdjc3Mvc3R5bGVzLmNzcycsXHJcbiAgICAgICAgJ2Nzcy9zdHlsZXMtbWluLXctNzUwLmNzcycsXHJcbiAgICAgICAgJ2Nzcy9zdHlsZXMtbWluLXctMTIwMC5jc3MnLFxyXG4gICAgICAgICdjc3Mvc3R5bGVzLmNzcycsXHJcbiAgICAgICAgJ2pzL2NvbW1vbnMuanMnLFxyXG4gICAgICAgICdqcy9yZXN0YXVyYW50X2luZm8uanMnLFxyXG4gICAgICAgICdqcy9tYWluLmpzJyxcclxuICAgICAgICAnanMvcGljdHVyZWZpbGwubWluLmpzJyxcclxuICAgICAgICAnanMvaW50ZXJzZWN0aW9uLW9ic2VydmVyLmpzJ1xyXG4gICAgICBdKTtcclxuICAgIH0pXHJcbiAgKTtcclxufSk7XHJcblxyXG4vKipcclxuICogTGlzdGVuIHRvIHRoZSBhY3RpdmF0ZSBldmVudCBhbmQgZGVsZXRlIG9sZGVyIGNhY2hlIHZlcnNpb25zXHJcbiAqL1xyXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2FjdGl2YXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICBldmVudC53YWl0VW50aWwoXHJcbiAgICBjYWNoZXMua2V5cygpLnRoZW4oZnVuY3Rpb24oY2FjaGVzTmFtZXMpIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxyXG4gICAgICAgIGNhY2hlc05hbWVzLmZpbHRlcihmdW5jdGlvbihjYWNoZU5hbWUpIHtcclxuICAgICAgICAgIHJldHVybiBjYWNoZU5hbWUuc3RhcnRzV2l0aCgncmVzLScpICYmICFhbGxDYWNoZXMuaW5jbHVkZXMoY2FjaGVOYW1lKTtcclxuICAgICAgICB9KS5tYXAoZnVuY3Rpb24oY2FjaGVOYW1lKSB7XHJcbiAgICAgICAgICByZXR1cm4gY2FjaGVzLmRlbGV0ZShjYWNoZU5hbWUpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9KVxyXG4gICk7XHJcbn0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW4gdG8gdGhlIGZldGNoIGV2ZW50IGFuZCB0cnkgdG8gZ2V0IGl0ZW1zIGZyb20gdGhlIGNhY2hlIGlmIHBvc3NpYmxlXHJcbiAqL1xyXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgY29uc3QgcmVxdWVzdFVybCA9IG5ldyBVUkwoZXZlbnQucmVxdWVzdC51cmwpO1xyXG5cclxuICBpZiAocmVxdWVzdFVybC5vcmlnaW4gPT09IGxvY2F0aW9uLm9yaWdpbikge1xyXG5cclxuICAgIGlmIChyZXF1ZXN0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9pbWcvJykpIHtcclxuICAgICAgZXZlbnQucmVzcG9uZFdpdGgoc2VydmVJbWFnZXMoZXZlbnQucmVxdWVzdCkpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgZXZlbnQucmVzcG9uZFdpdGgoXHJcbiAgICBjYWNoZXMubWF0Y2goZXZlbnQucmVxdWVzdCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UgfHwgZmV0Y2goZXZlbnQucmVxdWVzdCk7XHJcbiAgICB9KVxyXG4gICk7XHJcbn0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2VydmUgaW1hZ2VzXHJcbiAqIEltYWdlIHVybHMgbG9vayBsaWtlOlxyXG4gKiBpbWcvMS01MDAuanBnXHJcbiAqIEJ1dCBzdG9yYWdlVXJsIGhhcyB0aGUgLTUwMC5qcGcgYml0IG1pc3NpbmdcclxuICogV2Ugc3RvcmUgb25lIGNvcHkgb2YgZWFjaCBhdmF0YXJcclxuICovXHJcbmNvbnN0IHNlcnZlSW1hZ2VzID0gKHJlcXVlc3QpID0+IHtcclxuXHJcbiAgdmFyIHN0b3JhZ2VVcmwgPSByZXF1ZXN0LnVybC5yZXBsYWNlKC8tXFxkezN9LmpwZyQvLCAnJykgKyAnLmpwZyc7XHJcblxyXG4gIHJldHVybiBjYWNoZXMub3Blbihjb250ZW50SW1nc0NhY2hlKS50aGVuKGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICByZXR1cm4gY2FjaGUubWF0Y2goc3RvcmFnZVVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UgfHwgZmV0Y2gocmVxdWVzdCkudGhlbihmdW5jdGlvbihuZXR3b3JrUmVzcG9uc2UpIHtcclxuICAgICAgICBjYWNoZS5wdXQoc3RvcmFnZVVybCwgbmV0d29ya1Jlc3BvbnNlLmNsb25lKCkpO1xyXG4gICAgICAgIHJldHVybiBuZXR3b3JrUmVzcG9uc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcbiJdfQ==
