"use strict";var staticCache="res-staticStuff-v12";contentImgsCache="res-contentImgStuff";var allCaches=[staticCache,contentImgsCache];self.addEventListener("install",function(t){t.waitUntil(caches.open(staticCache).then(function(t){return t.addAll(["css/styles.css","js/commons.js","js/restaurant_info.js","js/main.js","js/picturefill.min.js"])}))}),self.addEventListener("activate",function(t){t.waitUntil(caches.keys().then(function(t){return Promise.all(t.filter(function(t){return t.startsWith("res-")&&!allCaches.includes(t)}).map(function(t){return caches.delete(t)}))}))}),self.addEventListener("fetch",function(e){var t=new URL(e.request.url);t.origin===location.origin&&t.pathname.startsWith("/img/")?e.respondWith(serveImages(e.request)):e.respondWith(caches.match(e.request).then(function(t){return t||fetch(e.request)}))}),serveImages=function(n){var s=n.url.replace(/-\d{3}.jpg$/,"")+".jpg";return caches.open(contentImgsCache).then(function(e){return e.match(s).then(function(t){return t||fetch(n).then(function(t){return e.put(s,t.clone()),t})})})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN3LmpzIl0sIm5hbWVzIjpbInN0YXRpY0NhY2hlIiwiY29udGVudEltZ3NDYWNoZSIsImV2ZW50IiwiY2FjaGVzIiwid2FpdFVudGlsIiwib3BlbiIsInRoZW4iLCJjYWNoZSIsImFkZEFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZWxmIiwia2V5cyIsImNhY2hlc05hbWVzIiwiYWxsIiwiZmlsdGVyIiwiY2FjaGVOYW1lIiwicmVxdWVzdFVybCIsInJlcXVlc3QiLCJhbGxDYWNoZXMiLCJpbmNsdWRlcyIsIm1hcCIsIm9yaWdpbiIsImRlbGV0ZSIsImxvY2F0aW9uIiwiVVJMIiwidXJsIiwicGF0aG5hbWUiLCJzdGFydHNXaXRoIiwicmVzcG9uZFdpdGgiLCJzZXJ2ZUltYWdlcyIsIm1hdGNoIiwic3RvcmFnZVVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJyZXBsYWNlIiwibmV0d29ya1Jlc3BvbnNlIiwicHV0IiwiY2xvbmUiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFlBQWMsc0JBQ3BCQyxpQkFBbUIsc0JBRG5CLElBQU1ELFVBQWMsQ0FDcEJDLFlBQ0FBLGtCQVdFQyxLQUFBQSxpQkFDRUMsVUFBWUgsU0FBWkUsR0FRQ0EsRUFUSEUsVUFGRkQsT0FBQUUsS0FBQUwsYUFBQU0sS0FBQSxTQUFBQyxHQUlNLE9BQU9BLEVBQU1DLE9BQU8sQ0FXMUIsaUJBVFEsZ0JBQ0Esd0JBV0hDLGFBQ0dMLCtCQWNSTSxLQUFBRCxpQkFBQSxXQUFBLFNBQUFQLEdBZEVBLEVBQU1FLFVBQ0pELE9BQU9RLE9BQU9MLEtBQUssU0FBU00sR0FnQjNCSCxPQUFBQSxRQUFMSSxJQWRRRCxFQUFZRSxPQUFPLFNBQVNDLEdBZ0I1QkMsT0FBQUEsRUFBcUJkLFdBQU1lLFVBQWpDQyxVQUFBQyxTQUFBSixLQWRTSyxJQUFJLFNBQVNMLEdBZ0JsQkMsT0FBV0ssT0FBWEMsT0FBc0JDLFdBYzNCYixLQWxCREQsaUJBQUEsUUFBQSxTQUFBUCxHQXFCQSxJQUFBYyxFQUFBLElBQUFRLElBQUF0QixFQUFBZSxRQUFBUSxLQWpCTVQsRUFBV0ssU0FBV0UsU0FBU0YsUUFFN0JMLEVBQVdVLFNBQVNDLFdBQVcsU0FDakN6QixFQUFNMEIsWUFBWUMsWUFBWTNCLEVBQU1lLFVBeUJ4Q2YsRUFBQTBCLFlBQ0V6QixPQUFPSSxNQUFNdUIsRUFBTUMsU0FBQUEsS0FBWXpCLFNBQUswQixHQUNsQyxPQUFPQSxHQUFZQyxNQUFNaEIsRUFBQUEsY0FOL0JZLFlBQWMsU0FBQ1osR0FFYixJQUFJYyxFQUFhZCxFQUFRUSxJQUFJUyxRQUFRLGNBQWUsSUFBTSxPQUUxRCxPQUFPL0IsT0FBT0UsS0FBS0osa0JBQWtCSyxLQUFLLFNBQVNDLEdBQ2pELE9BQU9BLEVBQU11QixNQUFNQyxHQUFZekIsS0FBSyxTQUFTMEIsR0FDM0MsT0FBT0EsR0FBWUMsTUFBTWhCLEdBQVNYLEtBQUssU0FBUzZCLEdBRTlDLE9BREE1QixFQUFNNkIsSUFBSUwsRUFBWUksRUFBZ0JFLFNBQy9CRiIsImZpbGUiOiJzdy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHN0YXRpY0NhY2hlID0gJ3Jlcy1zdGF0aWNTdHVmZi12MTInO1xyXG5jb250ZW50SW1nc0NhY2hlID0gJ3Jlcy1jb250ZW50SW1nU3R1ZmYnO1xyXG5jb25zdCBhbGxDYWNoZXMgPSBbXHJcbiAgc3RhdGljQ2FjaGUsXHJcbiAgY29udGVudEltZ3NDYWNoZVxyXG5dO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW4gdG8gdGhlIGluc3RhbGwgZXZlbnQgYW5kIGNhY2hlIHN0YXRpYyBpdGVtc1xyXG4gKi9cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgZXZlbnQud2FpdFVudGlsKFxyXG4gICAgY2FjaGVzLm9wZW4oc3RhdGljQ2FjaGUpLnRoZW4oZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgcmV0dXJuIGNhY2hlLmFkZEFsbChbXHJcbiAgICAgICAgJ2Nzcy9zdHlsZXMuY3NzJyxcclxuICAgICAgICAnanMvY29tbW9ucy5qcycsXHJcbiAgICAgICAgJ2pzL3Jlc3RhdXJhbnRfaW5mby5qcycsXHJcbiAgICAgICAgJ2pzL21haW4uanMnLFxyXG4gICAgICAgICdqcy9waWN0dXJlZmlsbC5taW4uanMnXHJcbiAgICAgIF0pO1xyXG4gICAgfSlcclxuICApO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW4gdG8gdGhlIGFjdGl2YXRlIGV2ZW50IGFuZCBkZWxldGUgb2xkZXIgY2FjaGUgdmVyc2lvbnNcclxuICovXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCBmdW5jdGlvbihldmVudCkge1xyXG4gIGV2ZW50LndhaXRVbnRpbChcclxuICAgIGNhY2hlcy5rZXlzKCkudGhlbihmdW5jdGlvbihjYWNoZXNOYW1lcykge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgY2FjaGVzTmFtZXMuZmlsdGVyKGZ1bmN0aW9uKGNhY2hlTmFtZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGNhY2hlTmFtZS5zdGFydHNXaXRoKCdyZXMtJykgJiYgIWFsbENhY2hlcy5pbmNsdWRlcyhjYWNoZU5hbWUpO1xyXG4gICAgICAgIH0pLm1hcChmdW5jdGlvbihjYWNoZU5hbWUpIHtcclxuICAgICAgICAgIHJldHVybiBjYWNoZXMuZGVsZXRlKGNhY2hlTmFtZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH0pXHJcbiAgKTtcclxufSk7XHJcblxyXG5cclxuLyoqXHJcbiAqIExpc3RlbiB0byB0aGUgZmV0Y2ggZXZlbnQgYW5kIHRyeSB0byBnZXQgaXRlbXMgZnJvbSB0aGUgY2FjaGUgaWYgcG9zc2libGVcclxuICovXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICBjb25zdCByZXF1ZXN0VXJsID0gbmV3IFVSTChldmVudC5yZXF1ZXN0LnVybCk7XHJcblxyXG4gIGlmIChyZXF1ZXN0VXJsLm9yaWdpbiA9PT0gbG9jYXRpb24ub3JpZ2luKSB7XHJcblxyXG4gICAgaWYgKHJlcXVlc3RVcmwucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2ltZy8nKSkge1xyXG4gICAgICBldmVudC5yZXNwb25kV2l0aChzZXJ2ZUltYWdlcyhldmVudC5yZXF1ZXN0KSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBldmVudC5yZXNwb25kV2l0aChcclxuICAgIGNhY2hlcy5tYXRjaChldmVudC5yZXF1ZXN0KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgIHJldHVybiByZXNwb25zZSB8fCBmZXRjaChldmVudC5yZXF1ZXN0KTtcclxuICAgIH0pXHJcbiAgKTtcclxufSk7XHJcblxyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBzZXJ2ZSBpbWFnZXNcclxuICogSW1hZ2UgdXJscyBsb29rIGxpa2U6XHJcbiAqIGltZy8xLTUwMC5qcGdcclxuICogQnV0IHN0b3JhZ2VVcmwgaGFzIHRoZSAtNTAwLmpwZyBiaXQgbWlzc2luZ1xyXG4gKiBXZSBzdG9yZSBvbmUgY29weSBvZiBlYWNoIGF2YXRhclxyXG4gKi9cclxuc2VydmVJbWFnZXMgPSAocmVxdWVzdCkgPT4ge1xyXG5cclxuICB2YXIgc3RvcmFnZVVybCA9IHJlcXVlc3QudXJsLnJlcGxhY2UoLy1cXGR7M30uanBnJC8sICcnKSArICcuanBnJztcclxuXHJcbiAgcmV0dXJuIGNhY2hlcy5vcGVuKGNvbnRlbnRJbWdzQ2FjaGUpLnRoZW4oZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgIHJldHVybiBjYWNoZS5tYXRjaChzdG9yYWdlVXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgIHJldHVybiByZXNwb25zZSB8fCBmZXRjaChyZXF1ZXN0KS50aGVuKGZ1bmN0aW9uKG5ldHdvcmtSZXNwb25zZSkge1xyXG4gICAgICAgIGNhY2hlLnB1dChzdG9yYWdlVXJsLCBuZXR3b3JrUmVzcG9uc2UuY2xvbmUoKSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldHdvcmtSZXNwb25zZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTsiXX0=
